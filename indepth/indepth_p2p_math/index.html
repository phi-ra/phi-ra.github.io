<!DOCTYPE html>
<html>

  <head>
    
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>

  Philipp  Ratz


  | Risk Sharing Principles

</title>
<meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->

<link rel="icon" href="/phi_logo.ico">

<link rel="stylesheet" href="/assets/css/main.css">
<link rel="canonical" href="/indepth/indepth_p2p_math/">

<!-- JQuery -->
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


<!-- Theming-->

<script src="/assets/js/theme.js"></script>
<script src="/assets/js/dark_mode.js"></script>






    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://phi-ra.github.io/">
       <span class="font-weight-bold">Philipp</span>   Ratz
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          <!-- CV -->
          <li class="nav-item ">
            <a class="nav-link" href="/assets/pdf/current_cv.pdf">
              CV
              
            </a>
          </li>
          
          <!-- Blog -->
          <li class="nav-item ">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                projects
                
              </a>
          </li>
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/research/">
                research
                
              </a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/teaching/">
                teaching
                
              </a>
          </li>
          
          
          
          
          
          
          
            <div class="toggle-container">
              <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      <div class="post">

  <header class="post-header">
    <h1 class="post-title">Risk Sharing Principles</h1>
    <p class="post-description">Some math results</p>
  </header>

  <article>
    <p>In our <a href="https://arxiv.org/abs/2107.02764" target="_blank" rel="noopener noreferrer">paper</a>, we first explore the stochastic oderings of linear risk sharing before moving on the some fun simulations. The idea of this post is to give a general overview that motivates our choices in the simulation steps.</p>

<p>Here some of the most important results are summarised (this post being a summary of a summary skips a few steps - for details see our article). Further, the blog only contains the propositions and lemmas but skip the proofs.</p>

<p>The main results are below:</p>

<p>Given some random loss \(X\) and an insurance scheme offering indemnity \(x \rightarrow I(x)\) against a premium \(p\), an agent will purchase the insurance if \(\xi \preceq_{CX}\) for the convex order where \(\xi = X + \pi - I(X)\), where \(\pi\) is the associate premium to transfer that risk.</p>

<h4 id="def-convex-order">Def.: Convex Order</h4>

<p>Consider two variables \(X\) and \(Y\) such that \(\mathbb{E}[g(X)]\leq \mathbb{E}[g(Y)]\) for all convex functions \(g:\mathbb{R}\rightarrow \mathbb{R},\)
(provided the expectations exist). Then \(X\) is said to be smaller than \(Y\) in the convex order, and is denoted as \(X\preceq_{CX}Y\).</p>

<h4 id="proposition">Proposition:</h4>
<p>If \(X\preceq_{CX}Y\), then \(\mathbb{E}[X] =\mathbb{E}[Y]\) and \(\text{Var}[X] \leq\text{Var}[Y]\).</p>

<p>This motivates the use of the variance in the simulations later on.</p>

<h4 id="def-risk-sharing-scheme">Def. Risk sharing scheme</h4>
<p>Consider two random vectors \(\boldsymbol{\xi}=(\xi_1,\cdots,\xi_n)\) and  \(\boldsymbol{X}=(X_1,\cdots,X_n)\) on \(\mathbb{R}_+^n\). Then \(\boldsymbol{\xi}\) is a risk-sharing scheme of \(\boldsymbol{X}\) if \(X_1+\cdots+X_n=\xi_1+\cdots+\xi_n\) almost surely.</p>

<p>For example, the average is a risk sharing principle: \(\xi_i=\overline{X}=\displaystyle{\frac{1}{n}\sum_{j=1}^n}X_j\), for any \(i\). A weighted average, based on credibility principles, too: \(\xi_i=\alpha X_i+[1-\alpha]\overline{X}\), where \(\alpha\in[0,1]\) (we will get back on those averages in the next section). Observe also that the order statistics defines a risk sharing mechanism: \(\xi_i=X_{(i)}\) where \(X_{(1)}\leq X_{(2)}\leq \cdots \leq X_{(n)}\). Given a permutation \(\sigma\) of \(\{1,2,\cdots,n\}\), \(\xi_i=X_{\sigma(i)}\) defines a risk sharing (that we we write, using vector notations, \(\boldsymbol{\xi}=P_{\sigma}\boldsymbol{X}\), where \(P_{\sigma}\) is the permutation matrix associated with \(\sigma\)). This example of permutations is actually very important in the economic literature.</p>

<p>Which then leads to the proposition</p>

<h4 id="proposition-1">Proposition:</h4>
<p>Consider two linear risk sharing schemes \(\boldsymbol{\xi}_1\) and \(\boldsymbol{\xi}_2\) of \(\boldsymbol{X}\), such that \(\boldsymbol{\xi}_2=D\boldsymbol{\xi}_1\), for some doubly-stochastic matrix. Then
\(\operatorname{trace}\big[\operatorname{Var}[\boldsymbol{\xi}_2]\big]\leq\operatorname{trace}\big[\operatorname{Var}[\boldsymbol{\xi}_1]\big]\).</p>

<p>Finally some extensions to work with cliques. This is important as it shows that for networks that are most often encountered in real life, we will need to settle for an approximation because the optimal solution will be NP-complete.</p>

<h4 id="def-clique">Def. Clique</h4>
<p>A clique \(\mathcal{C}_i\) within an undirected graph \(\mathcal{G} = (\mathcal{V}, \mathcal{E})\) is a subset of vertices \(\mathcal{C}_i \subseteq \mathcal{V}\) such that every two distinct vertices are adjacent. That is, the induced subgraph of \(\mathcal{G}\) by \(\mathcal{C}_i\) is complete. A <em>clique cover</em> is a partition of the graph \(\mathcal{G}\) into a set of cliques.</p>

<p>Now we can start to work on the cliques:
In a network, a clique is a subset of nodes such that every two distinct vertices in the clique are adjacent. Assume that a network with $n$ nodes has two (distinct) cliques, with respectively \(k\) and \(m\) nodes. One can consider some ex-post contributions, to cover for losses claimed by connected policyholders. If risks are homogeneous, contributions are equal, within a clique. Assume that policyholders face random losses \(\boldsymbol{X}=(X_1,\cdots,X_k,X_{k+1},\cdots,X_{k+m})\) and consider the following risk sharing
\begin{equation}
\xi_i = \begin{cases}
\displaystyle{\frac{1}{k}\sum_{j=1}^k X_j}\text{ if }i\in{1,2,\cdots,k}\quad<br>
\displaystyle{\frac{1}{m}\sum_{j=k+1}^{k+m} X_j}\text{ if }i\in{k+1,k+2,\cdots,k+m}
\end{cases}
\end{equation}</p>

<p>In order to illustrate the proposition above, let $I$ denote a uniform variable over \(\{1,2,\cdots,n\}\), and \(\xi'=\xi_I\),
\begin{equation}
\mathbb{E}[\xi’]=\mathbb{E}[\mathbb{E}[\xi_I|I]]=\frac{1}{n}\sum_{i=1}^n \mathbb{E}[\xi_i]=\frac{1}{n}\sum_{i=1}^n\mathbb{E}[X_i]=\mathbb{E}[X]
\end{equation}
as expected since it is a risk sharing, while
\begin{equation}
\text{Var}[\xi’]=\mathbb{E}[\text{Var}[\xi_I|I]]=\frac{1}{n}\sum_{i=1}^n \text{Var}[\xi_i]=\frac{1}{n}\left(k\frac{\text{Var}[X]}{k^2}+m\frac{\text{Var}[X]}{m^2}\right)\newline=\frac{\text{Var}[X]}{n}\left(\frac{1}{k}+\frac{1}{m}\right)=\frac{\text{Var}[X]}{k(n-k)}
\end{equation}
since \(n=k+m\), so that \(\text{Var}[\xi']&lt;\text{Var}[X]\), meaning that if we randomly pick a policyholder, the variance of the loss while risk sharing is lower than the variance of the loss without risk sharing. Observe further that \(k\mapsto k(n-k)\) is maximal when \(k=\lfloor n/2 \rfloor\), which means that risk sharing benefit is maximal (socially maximal, for a randomly chosen representative policyholder) when the two cliques have the same size.</p>

<h4 id="cliques-in-practice">Cliques in practice</h4>

<p>What does that imply for any practical solution though?</p>

<p>Cliques have attractive properties, in that they allow to use a linear risk sharing mechanism on the resulting subgraphs. Further, they can be used to represent a (more) homogeneous subgroup within a larger network, as for example Feng &amp; Taylor propose (in their case, they partition the network based on a hierarchical structure). As we depart from the idea of a complete graph to begin with, partitioning the graph into cliques becomes a <em>clique problem</em>. Given a number of cliques \(j\), the number of nodes \(n\) and the number of members of clique \(i\) \(n_i\) (where \(n_j=n-\sum_{i=1}^{j-1}n_i\)), the variance is always minimized as:
\begin{equation}
\frac{\partial\text{Var}[\xi’]}{\partial n_k}=\frac{1}{n_j^2} - \frac{1}{n_k^2} = 0
\end{equation}
implying \(n_i=\tilde{n} \forall i\) and \(\tilde{n}=\frac{n}{j}\). This in turn means that:
\begin{equation}
\text{Var}[\xi’]=\text{Var}[X]\left(\frac{1}{n}\frac{j}{\frac{n}{j}}\right)=\text{Var}[X]\left(\frac{j}{n}\right)^2
\end{equation}
So the variance decrease is increasing in \(n\) as in standard partitioning problems, but decreasing in \(j\) up to the extreme case where \(j=n\) (ie. every node is its own clique). Even when abstracting from the fact that the set of all cliques \(\mathcal{C}\) in graph \(\mathcal{G}\) might not contain ideally sized cliques, the problem of finding a clique cover that minimizes \(j\) becomes a <em>minimal clique problem</em> and this was shown to be NP-complete by Karp in 1972. Hence and optimal solution will be difficult if not practically impossible to find. One idea to circumvent this is to apply approximate clustering algorithms and reconnect cliques from there</p>


  </article>

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    © Copyright 2023 Philipp  Ratz.
    Based on <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>.

    
    
  </div>
</footer>



  </body>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Medium Zoom JS -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/assets/js/zoom.js"></script>


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


</html>
